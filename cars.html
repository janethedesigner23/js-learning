<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Гонки</title>
    </head>
    <body>
        <script src="https://code.jquery.com/jquery-2.1.0.js"></script> 
        <script>
            
            var Car = function (x, y) { 
                this.x = x;
                this.y = y;
                this.draw();
            };

            // var drawCar = function (car) {
            //     var carHtml = '<img src="http://nostarch.com/images/car.png">';
            //     var carElement = $(carHtml);

            //     carElement.css({
            //         position: "absolute", 
            //         left: car.x,
            //         top: car.y
            //     });

            //     $("body").append(carElement);
            // };

            // using "prototype"

            Car.prototype.draw = function () {
                var carHtml = '<img src="http://nostarch.com/images/car.png">';

                this.carElement = $(carHtml);

                this.carElement.css({
                    position: "absolute", 
                    left: this.x,
                    top: this.y
                });

                $("body").append(this.carElement);
            };

            Car.prototype.moveRight = function (distance) { 
                this.x += distance;
                this.carElement.css({ 
                    left: this.x,
                    top: this.y
                }); 
            };

            Car.prototype.moveLeft = function (distance) { 
                this.x -= distance;
                this.carElement.css({
                    left: this.x,
                    top: this.y 
                });
            };

            Car.prototype.moveUp = function (distance) {
                this.y -= distance; 
                this.carElement.css({
                    left: this.x,
                    top: this.y 
                });
            };

            Car.prototype.moveDown = function (distance) {
                this.y += distance; 
                this.carElement.css({
                    left: this.x,
                    top: this.y 
                });
            };

            var tesla = new Car(20, 20); 
            var nissan = new Car(20, 200); 
            var porsche = new Car(20, 500); 

            // создать массив машин и запустить анимацию


            setInterval(function() {
                var randomDistanceNissan = Math.floor(Math.random() * 20);
                var randomDistanceTesla = Math.floor(Math.random() * 20);
                var randomDistancePorsche = Math.floor(Math.random() * 20);
                nissan.moveRight(randomDistanceNissan);
                tesla.moveRight(randomDistanceTesla);
                porsche.moveRight(randomDistancePorsche);
            }, 30);

            
        </script>
    </body>
</html>